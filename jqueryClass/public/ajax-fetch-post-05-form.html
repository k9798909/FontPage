<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <form name="form1" style="display:none">
        <input type="file" name="avatar" id="avatar" 
        onchange="checkForm()"
        accept="image/*"><br>
    </form>

    <button onclick="avatar.click()">upload</button>
    <div id="info"></div>
<script src="lib/jquery-3.4.1.js"></script>
<script>

    async function checkForm() {
        const fd = new FormData(document.form1);

        const r = await fetch('/avatar',{
            method: 'POST',
            body: fd
        });
        const obj = await r.json();
        console.log(obj);
        info.innerHTML = JSON.stringify(obj);
    }

</script>
</body>
</html>